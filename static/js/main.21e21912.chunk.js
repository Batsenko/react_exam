(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n(30)},24:function(e,t,n){},25:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(6),c=n.n(o),u=(n(24),n(13)),d=n(14),i=n(17),l=n(15),s=n(18),m=(n(25),n(1)),f=n(4),p="delete_author",h="load_authors",v="set_loaded",y="1",b="2",O="3",j="remove_order";var E=Object(f.b)(function(e){return Object(m.a)({},e)},function(e){return{addOrder:function(t){return e(function(e){return{type:O,payload:e}}(t))},removeOrder:function(t){return e(function(e){return{type:j,payload:e}}(t))},removeAuthor:function(t){return e(function(e){return{type:p,payload:e}}(t))}}})(function(e){var t=e.value,n=e.addOrder,r=e.removeOrder,o=e.removeAuthor;return a.a.createElement("tr",null,a.a.createElement("td",{className:"name__field"},t.name),a.a.createElement("td",{class:"updown__field"},a.a.createElement("a",{onClick:function(){r({id:t.id})}},"\u2b06\ufe0f"),a.a.createElement("a",{onClick:function(){n({id:t.id})}},"\u2b07\ufe0f")),a.a.createElement("td",{className:"delete__field",onClick:function(){o({id:t.id})}},"\u2716\ufe0f"))}),I=function(e){var t=e.items.map(function(e){return a.a.createElement(E,{value:e})});return a.a.createElement("table",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Name"),a.a.createElement("th",null,"Sort"),a.a.createElement("th",null,"Delete")),t)};var D=function(e){function t(){return Object(u.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return this.props.requestedData?null!=this.props.renderItems?a.a.createElement(I,{items:this.props.renderItems}):a.a.createElement("p",null," Loading... "):a.a.createElement("button",{onClick:this.props.loadAuthors},"Load")}}]),t}(a.a.Component),w=Object(f.b)(function(e){return{renderItems:e.renderItems,requestedData:e.requestedData,loadedData:e.loadedData}},function(e){return{loadAuthors:function(){return e({type:h})}}})(D);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var g=n(5),_=n(7),k={requestedData:!1,renderItems:null,loadedData:null};var q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return fetch("http://my-json-server.typicode.com/mate-academy/literary-blog/authors").then(function(e){return e.json()}).then(function(e){return e.map(function(e,t){return{id:t+1,name:e,order:t}})}).then(function(e){t.asyncDispatch({type:v,payload:e}),t.asyncDispatch(function(e){return{type:y,payload:e}}(e)),t.asyncDispatch({type:b})}),Object(m.a)({},e,{requestedData:!0});case v:return Object(m.a)({},e,{loadedData:t.payload});case y:return Object(m.a)({},e,{renderItems:t.payload});case b:var n=Object(_.a)(e.loadedData);return n.sort(function(e,t){return e.order-t.order}),Object(m.a)({},e,{renderItems:n});case O:var r=e.renderItems.find(function(e){return e.id===t.payload.id}),a=e.renderItems.indexOf(r),o=Object(_.a)(e.renderItems);if(r&&a>-1&&o.length-a>=2){o[a].order++,o[a+1].order--;var c=o[a];o[a]=o[a+1],o[a+1]=c}return Object(m.a)({},e,{renderItems:o});case j:var u=e.renderItems.find(function(e){return e.id===t.payload.id}),d=e.renderItems.indexOf(u),i=Object(_.a)(e.renderItems);if(u&&d>-1&&d>0){i[d].order--,i[d-1].order++;var l=i[d];i[d]=i[d-1],i[d-1]=l}return Object(m.a)({},e,{renderItems:i});case p:return Object(m.a)({},e,{renderItems:e.renderItems.filter(function(e){return e.id!=t.payload.id})});default:return e}},C=Object(g.c)(q,Object(g.a)(function(e){return function(t){return function(n){var r=!1,a=[];function o(){a.forEach(function(t){return e.dispatch(t)}),a=[]}var c=Object.assign({},n,{asyncDispatch:function(e){a=a.concat([e]),r&&o()}});t(c),r=!0,o()}}}));c.a.render(a.a.createElement(f.a,{store:C},a.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,1,2]]]);
//# sourceMappingURL=main.21e21912.chunk.js.map